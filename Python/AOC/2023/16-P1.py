Input = ["""!.................-....-.-.|....................|......./.|.!................|...........|....--..............
............-...................|.............|..-.......-/..............-....!...............................
|.......//...........................................|...............-......../.....!....................!....
....|......-.-.............-......!.....!......../..................../.......................................
..!..!../................../.............-............|....-.........................|......|...............|.
-..|........................./.................!.........!./.............!..|..-...-.............!............
.!......||-..................../................-................./....|........................|.............
..............!./...........-.........../-................-.........!...!........../-.......|.................
....-..........-.-.....!......................../.......-..........-/.....................||................|.
./..........|/............................!./............................./....../........!...-|............!-
........!.............................-...../............---...........|...............|......!!..............
........//....|.!......./...!.............|..............!............./...........-.|..-.............|.......
...................!...........-/..-......!...|........-.|................!-.......|........!.................
|.|....../|............!./..-........!..............................-.....................|....../............
............-....................-..............-..-................|.//.............-.............-..........
..........-.......-......|-................./........../...!........-.......................-..!.......!......
................../....|............-....../................./.....................|.................-........
...!..............--..|.....||.....!.............!../................................................-.-...../
.........-......|....-.................-.......!-................./..|...................|!.....!.....|.|-....
......................-......................-............/....................!...../...!..../...............
...../......-...............!...-....|......../.........!................................|.........../........
........../.......!..............-...............!........-|....-......-.............|...........|........./..
./...............!....../....../..../...................................................|.....|.|../......./..
....|!........!-...../...................-.............!.!..................................././..........!...
....................................-..../......................-..///......-...|.|..........................|
.........-!.....-...........|........./..........-..!.....!./...................-........................-....
....../.......././......--.....|.!..-...-....!..........................-....-...-..|.|.....|.......!-./......
...-....................-................|.............-../........|../........-.............|!...............
...../...........-......../................|................|.....!.....-.............../...|....../!.........
./...!.....!..-./.........................|................................-....................-.............
.............!|.../....!!.....!..|...........!.....................|......|.|.....|.....-............!.!......
........................|......-..........-.../......-........|...../.!|...-................................|.
.......!...-...!..........|.....!...................!.........|..........-/.........!...................../...
.-|.......|............./..|./....-.../...!............-......../..............-.......//...-...........||.!..
..|..!./..-........!..|....-..!.........../..............................|..!..................../..|...../-..
.|.........-.!...........................!..../......./....||............!..........|............-.!|.........
....................!..../|............................!.../..|........./...../............||........!....../.
....................../.....|...................|......|.................|..|.......|................|........
.....................!.........-..../.........../../..-......!.................|.../....................../...
........!.-................/........!...../....../.|.!...|/../..........................................-.....
....................................|......./...../............-................-/..|.-....................!..
..|.........................-....................../...|.....|.............../.........../.....|!.............
.......................................|.!.|.......................-.......|..............!............-./....
..........//................!..|./................-.................-..../../|................................
.|......................................./............/..-.......-.|.........................!|..|............
............................/.-..................-./..../..............|-.........-|..........................
.................-...|................!.........|!...............................!...........!...//...........
........!..|.|--.............|.......!.................|......|!./.........................!.|................
.-|.............|!|.....!|././...|..!.............!..!...................!...........!...../..................
..../..............-..|...|.........-.........!.....-...........-.....|...!.-....-../.................!.......
........!.|........!!.........-...............-.......-..................................../..........|.......
...............-...................!/...............!..-!...........|.-........-.!-.....!....!..../......-....
.../-......./..............|.......|..//......-....................../.|....!......|..!.........../-!.........
.-....|./....-.../....../.....-..............!..-..!..-............!................|...|..........-.......|..
|......../...................!..../....!......./..|.................!...............!.........!../.|......../.
../............/........|..|.......................................!../!...............!............/.......!.
........-.-...!........../.......-....-............./.............-......./................!..........-.......
.../-................/......|/........-......|..........|..-..............|/..........................-.......
......./............../...................|../...../................./../..........!../.....!....!............
..............-..|../-........................|...!.../...-/..........!.......!......!.................-....-.
......................................-/.!........................../......-..!..!........!...............|..!
.............-.........../-|........-........!....-.....!....../..!........................!......|.......!...
.././....................|!.../!.........!.|.............../..../...|......./.!...|.......!.........|.........
......................./........./-./...........................|/...!........-.../.................||........
..............|./........!..............!.............................|/................../............|.-..|.
.........................-......../........./.....|....-..-.-..............-.-......../.......!...!./.........
.-............../../....!//......../...|......|......!..................-......!.....-....!|.........|........
..............-.....................!.................!.|...-............................|......!.............
!!.....|...........!............|............................../............................................!.
.-........../|...!..............-...............................!...........!.....|......!..........!.........
.!............!.|....-........./....../../.....-..!........|...............-..................|............-.|
.....!......-.........-.........|....../..-....|.....!..../....|........-.....................................
..........!-..-..../!.....................!.........-...........|..../-.......................!....-..........
...../............./..|..................../............../../.........|...............-../...................
.....|...../.....|......-.............................|...........-......................./............/......
.....................||./.-.................-.........!.!..................-..............!...--.........!....
.|......-......-.!.......-......!....!..!..|.........../......./.....................-..........|.............
.....!.....!............................--..................|..-........!....!...!.|.!.-...........!...!......
./...........!.......!/......|........./..|................!-................/....!...................!.!.....
..|...............................-.........-.|/......|.....|........!........................................
.......|............-............../............-......../..-...!|-...-..../...........-..........-..-/.......
............................-..!.......................................-.........................!..........-.
........................!.........|................||...-....!......!.....!.................!...!!....../.....
....!../.....-.......-.................-|...................-../.|-............|........-|......./../...!.....
..................................................!.......|......./..!./......../....|....-|.-................
....../.........|.......|...|.......!.../|...............-.......-!..!......././..................|..!.|...../
............|.....!...........-.............................../.....-.................-.../............/.../..
...../.......!............................|.....!....!................/..................!......../...........
..................-....!.........!|................/|......../.-................|...!......................--.
......-..-.....................................-!.........|.../.....................|..|.-.....!...|....!....-
......-......-.................-......|..................................................|....................
..!...............|......../........-......./.............../...........-..........|/.....///!.....-..........
.........../..|.............../..........!|.........................!...|.....!||....!...|.|/.....-....../....
...../...../.....-............................................|........|............|.........................
......-../!................../..............!............!.................../|...........|.............!.....
...........-..........................-....!..!..|.-..............................................!........|..
/.--..//....!...............................-............|..././..............................................
/...............|.........../..../......................!.....|............|...........|...................-..
..-................!../|......../...................../...........!..|.|!../..................................
....|...../.....-......!.........................-.....//...............|.........-.......|...-....--.........
....|..!.-..../....................|..........!............./...........!.../.................................
............................!...................................../.......................|...........!.......
.........../.....-.....................!..!.-..|............-...............!.........................-.......
......-.......-!.!......!..-.-........./...........!..........|........................!.....-.....!..........
..............-....../.-............./........../..............!-....-.../...../.-............!......./.-.....
......|...................................................||..../...|!.....................-.../...!........|.
......|.//........................-...../...........-..!...|......|..................../........../...........
.....................................................|.........//...........|!.....!....................|.../.
............-..||...........|....../....................!...!................................../.......|......
..!....!......./-!.!...........-!................|.........../................||.../.....-...........!........"""]

# Input = [""".|...!....
# |.-.!.....
# .....|-...
# ........|.
# ..........
# .........!
# ..../.!!..
# .-.-/..|..
# .|....-|.!
# ..//.|...."""]

#NOTE: ! = \

import sys
sys.setrecursionlimit(10000)

Input = Input[0].split()

Width = len(Input[0])
Height = len(Input)

EnergizedGrid = [["." for  y in range(Width + 2)] for x in range(Height + 2)]
PreviousPositions = []

String = ""
for x in range(Width):
  String = String + "."
Input = [String] + Input + [String]

for x in range(len(Input)):
  Input[x] = "." + Input[x] + "."

# for x in Input:
#   print(x)

def LightBeam(Coordinates, Direction):
  if Coordinates + [Direction] in PreviousPositions:
    return(0)
  PreviousPositions.append(Coordinates + [Direction])
  Row = Coordinates[0]
  Column = Coordinates[1]
  # print(Row, Column, Direction)
  EnergizedGrid[Row][Column] = "#"
  if Row == 0 or Row == Height + 1:
    return(0)
  if Column == 0 or Column == Width + 1:
    return(0)
    
  if Direction == "U":
    Row = Row - 1
    EnergizedGrid[Row][Column] = "#"
    if Input[Row][Column] == "." or Input[Row][Column] == "|":
      LightBeam([Row, Column], "U")
      return(0)
    elif Input[Row][Column] == "/":
      LightBeam([Row, Column], "R")
      return(0)
    elif Input[Row][Column] == "!":
      LightBeam([Row, Column], "L")
      return(0)
    elif Input[Row][Column] == "-":
      LightBeam([Row, Column], "L")
      LightBeam([Row, Column], "R")
      return(0)
    
  elif Direction == "D":
    Row = Row + 1
    EnergizedGrid[Row][Column] = "#"
    if Input[Row][Column] == "." or Input[Row][Column] == "|":
      LightBeam([Row, Column], "D")
      return(0)
    elif Input[Row][Column] == "/":
      LightBeam([Row, Column], "L")
      return(0)
    elif Input[Row][Column] == "!":
      LightBeam([Row, Column], "R")
      return(0)
    elif Input[Row][Column] == "-":
      LightBeam([Row, Column], "L")
      LightBeam([Row, Column], "R")
      return(0)
    
  elif Direction == "L":
    Column = Column - 1
    EnergizedGrid[Row][Column] = "#"
    if Input[Row][Column] == "." or Input[Row][Column] == "-":
      LightBeam([Row, Column], "L")
      return(0)
    elif Input[Row][Column] == "/":
      LightBeam([Row, Column], "D")
      return(0)
    elif Input[Row][Column] == "!":
      LightBeam([Row, Column], "U")
      return(0)
    elif Input[Row][Column] == "|":
      LightBeam([Row, Column], "U")
      LightBeam([Row, Column], "D")
      return(0)
    
  elif Direction == "R":
    Column = Column + 1
    EnergizedGrid[Row][Column] = "#"
    if Input[Row][Column] == "." or Input[Row][Column] == "-":
      LightBeam([Row, Column], "R")
      return(0)
    elif Input[Row][Column] == "/":
      LightBeam([Row, Column], "U")
      return(0)
    elif Input[Row][Column] == "!":
      LightBeam([Row, Column], "D")
      return(0)
    elif Input[Row][Column] == "|":
      LightBeam([Row, Column], "U")
      LightBeam([Row, Column], "D")
      return(0)

# for x in EnergizedGrid:
#   print(x)

(LightBeam([1,1], "D"))

for x in EnergizedGrid[1:-1]:
  String = ""
  for y in x[1:-1]:
    String = String + y
  print(String)

Count = 0
for ROW in range(1, Height + 1):
  for COLUMN in range(1, Width + 1):
    if EnergizedGrid[ROW][COLUMN] == "#":
      Count += 1
print(Count)